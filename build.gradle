plugins {
    // For pretty test results on command-line
    id 'com.adarshr.test-logger' version "1.6.0"
}
def getVersionName = { ->
    def stdout = new ByteArrayOutputStream()
        exec {
            commandLine 'git', 'describe', '--tags'
                standardOutput = stdout
        }
    return stdout.toString().trim()
}
allprojects {
    version = getVersionName()
    repositories {
        mavenCentral()
    }
    apply plugin: 'java-library'
        dependencies {
            testImplementation 'junit:junit:4.12'
    		testImplementation group: 'org.mockito', name: 'mockito-core', version: '2.1.0'
        }
}
dependencies {
    implementation group: 'com.squareup', name: 'javapoet', version: '1.11.1'
    implementation group: 'org.yaml', name: 'snakeyaml', version: '1.24'

    compileOnly 'com.google.auto.service:auto-service:1.0-rc5'
    annotationProcessor 'com.google.auto.service:auto-service:1.0-rc5'
}
